import{d as i}from"./index-g7Qn_UOI.js";import{f as r}from"./fetchWithAuth-CvqqA0bk.js";const h=i("suppliers",{state:()=>({suppliers:[],loading:!1}),actions:{async fetchSuppliers(o){const t=o?`?attributes=${encodeURIComponent(o)}`:"";this.loading=!0;try{const s=await fetch(`http://localhost:3000/suppliers${t}`);if(!s.ok){const a=await s.json();throw new Error(a.message||"Network response was not ok")}const e=await s.json();this.suppliers=e.data}catch(s){throw s}finally{this.loading=!1}},async addSupplier(o){try{const t=await r("http://localhost:3000/suppliers",{method:"POST",body:JSON.stringify(o)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Network response was not ok")}const s=await t.json();this.suppliers.push(s.data)}catch(t){throw t}},async updateSupplier(o){try{const t=await r(`http://localhost:3000/suppliers/${o.id}`,{method:"PATCH",body:JSON.stringify(o)});if(!t.ok){const s=await t.json();throw new Error(s.message||"Network response was not ok")}await this.fetchSuppliers()}catch(t){throw t}},async deleteSupplier(o){try{const t=await r(`http://localhost:3000/suppliers/${o}`,{method:"DELETE"});if(!t.ok){const s=await t.json();throw new Error(s.message||"Network response was not ok")}await this.fetchSuppliers()}catch(t){throw t}}}});export{h as u};
